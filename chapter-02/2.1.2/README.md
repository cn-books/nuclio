## 运行DashBoard

快速开始
```
docker run -p 8070:8070 -v /var/run/docker.sock:/var/run/docker.sock -v /tmp:/tmp --name nuclio-dashboard quay.io/nuclio/dashboard:stable-amd64
```
mac本地执行
```
(base) williamlee@MacBook-Pro ~ % docker run -p 8070:8070 -v /var/run/docker.sock:/var/run/docker.sock -v /tmp:/tmp --name nuclio-dashboard quay.io/nuclio/dashboard:stable-amd64
WARNING: The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested
Running in parallel
Starting nginx
Starting dashboard
22.10.19 02:16:35.221 hboard.healthcheck.server (I) Listening {"listenAddress": ":8082"}
22.10.19 02:16:35.232 rd.platform.docker.runner (D) Executing {"command": "docker version --format \"{{json .}}\""}
22.10.19 02:16:35.704 rd.platform.docker.runner (D) Command executed successfully {"output": "{\"Client\":{\"Platform\":{\"Name\":\"Docker Engine - Community\"},\"Version\":\"19.03.14\",\"ApiVersion\":\"1.40\",\"DefaultAPIVersion\":\"1.40\",\"GitCommit\":\"5eb3275\",\"GoVersion\":\"go1.13.15\",\"Os\":\"linux\",\"Arch\":\"amd64\",\"BuildTime\":\"Tue Dec  1 19:14:24 2020\",\"Experimental\":false},\"Server\":{\"Platform\":{\"Name\":\"Docker Desktop 4.8.0 (78933)\"},\"Components\":[{\"Name\":\"Engine\",\"Version\":\"20.10.14\",\"Details\":{\"ApiVersion\":\"1.41\",\"Arch\":\"arm64\",\"BuildTime\":\"Thu Mar 24 01:45:44 2022\",\"Experimental\":\"false\",\"GitCommit\":\"87a90dc\",\"GoVersion\":\"go1.16.15\",\"KernelVersion\":\"5.10.104-linuxkit\",\"MinAPIVersion\":\"1.12\",\"Os\":\"linux\"}},{\"Name\":\"containerd\",\"Version\":\"1.5.11\",\"Details\":{\"GitCommit\":\"3df54a852345ae127d1fa3092b95168e4a88e2f8\"}},{\"Name\":\"runc\",\"Version\":\"1.0.3\",\"Details\":{\"GitCommit\":\"v1.0.3-0-gf46b6ba\"}},{\"Name\":\"docker-init\",\"Version\":\"0.19.0\",\"Details\":{\"GitCommit\":\"de40ad0\"}}],\"Version\":\"20.10.14\",\"ApiVersion\":\"1.41\",\"MinAPIVersion\":\"1.12\",\"GitCommit\":\"87a90dc\",\"GoVersion\":\"go1.16.15\",\"Os\":\"linux\",\"Arch\":\"arm64\",\"KernelVersion\":\"5.10.104-linuxkit\",\"BuildTime\":\"2022-03-24T01:45:44.000000000+00:00\"}}\n", "stderr": "", "exitCode": 0}
22.10.19 02:16:35.705 rd.platform.docker.runner (D) Executing {"command": "docker version --format \"{{json .}}\""}
22.10.19 02:16:36.105 rd.platform.docker.runner (D) Command executed successfully {"output": "{\"Client\":{\"Platform\":{\"Name\":\"Docker Engine - Community\"},\"Version\":\"19.03.14\",\"ApiVersion\":\"1.40\",\"DefaultAPIVersion\":\"1.40\",\"GitCommit\":\"5eb3275\",\"GoVersion\":\"go1.13.15\",\"Os\":\"linux\",\"Arch\":\"amd64\",\"BuildTime\":\"Tue Dec  1 19:14:24 2020\",\"Experimental\":false},\"Server\":{\"Platform\":{\"Name\":\"Docker Desktop 4.8.0 (78933)\"},\"Components\":[{\"Name\":\"Engine\",\"Version\":\"20.10.14\",\"Details\":{\"ApiVersion\":\"1.41\",\"Arch\":\"arm64\",\"BuildTime\":\"Thu Mar 24 01:45:44 2022\",\"Experimental\":\"false\",\"GitCommit\":\"87a90dc\",\"GoVersion\":\"go1.16.15\",\"KernelVersion\":\"5.10.104-linuxkit\",\"MinAPIVersion\":\"1.12\",\"Os\":\"linux\"}},{\"Name\":\"containerd\",\"Version\":\"1.5.11\",\"Details\":{\"GitCommit\":\"3df54a852345ae127d1fa3092b95168e4a88e2f8\"}},{\"Name\":\"runc\",\"Version\":\"1.0.3\",\"Details\":{\"GitCommit\":\"v1.0.3-0-gf46b6ba\"}},{\"Name\":\"docker-init\",\"Version\":\"0.19.0\",\"Details\":{\"GitCommit\":\"de40ad0\"}}],\"Version\":\"20.10.14\",\"ApiVersion\":\"1.41\",\"MinAPIVersion\":\"1.12\",\"GitCommit\":\"87a90dc\",\"GoVersion\":\"go1.16.15\",\"Os\":\"linux\",\"Arch\":\"arm64\",\"KernelVersion\":\"5.10.104-linuxkit\",\"BuildTime\":\"2022-03-24T01:45:44.000000000+00:00\"}}\n", "stderr": "", "exitCode": 0}
22.10.19 02:16:36.106                 dashboard (D) Initializing platform {"platformType": "local"}
22.10.19 02:16:36.107 dashboard.platform.docker (D) Executing in container {"containerID": "nuclio-local-storage-reader", "execOptions": {"Command":"/bin/sh -c \"/bin/cat /etc/nuclio/store/projects/nuclio/default.json\"","Stdout":"","Stderr":"","Env":null}}
22.10.19 02:16:36.109 rd.platform.docker.runner (D) Executing {"command": "docker exec  nuclio-local-storage-reader /bin/sh -c \"/bin/cat /etc/nuclio/store/projects/nuclio/default.json\""}
22.10.19 02:16:36.581 rd.platform.docker.runner (D) Command executed successfully {"output": "eyJtZXRhIjp7Im5hbWUiOiJkZWZhdWx0IiwibmFtZXNwYWNlIjoibnVjbGlvIn0sInNwZWMiOnt9LCJzdGF0dXMiOnsidXBkYXRlZEF0IjoiMjAyMi0wNy0xOFQwODo1MTozNS41MjM2ODc1MDlaIn19\n", "stderr": "", "exitCode": 0}
22.10.19 02:16:36.587                 dashboard (D) Fetching function templates from git repository {"templatesGitRepository": "https://github.com/nuclio/nuclio-templates.git", "templatesGitRef": "refs/heads/master"}
22.10.19 02:16:36.659 itFunctionTemplateFetcher (D) Fetching templates from git {"ref": "refs/heads/master"}
22.10.19 02:16:39.193 itFunctionTemplateFetcher (D) Got function template directory structure from git {"dirEntryNames": ["CONTRIBUTING.md", "Jenkinsfile", "LICENSE", "README.md", "enrich-stream", "kafka-to-kv", "kafka-to-tsdb", "mysql-to-kv-delta", "mysql-to-kv", "natural-lang", "string-manipulator"]}
22.10.19 02:16:39.195 itFunctionTemplateFetcher (D) Got function template directory structure from git {"dirEntryNames": ["enrich-stream.py", "function.yaml.template", "function.yaml.values"]}
22.10.19 02:16:39.201 itFunctionTemplateFetcher (D) Got function template directory structure from git {"dirEntryNames": ["function.yaml.template", "function.yaml.values", "kafka-to-kv.py"]}
22.10.19 02:16:39.203 itFunctionTemplateFetcher (D) Got function template directory structure from git {"dirEntryNames": ["function.yaml.template", "function.yaml.values", "kafka-to-tsdb.py"]}
22.10.19 02:16:39.204 itFunctionTemplateFetcher (D) Got function template directory structure from git {"dirEntryNames": ["function.yaml.template", "function.yaml.values", "mysql-to-kv-delta.py"]}
22.10.19 02:16:39.206 itFunctionTemplateFetcher (D) Got function template directory structure from git {"dirEntryNames": ["function.yaml.template", "function.yaml.values", "ingest_from_mysql.py"]}
22.10.19 02:16:39.207 itFunctionTemplateFetcher (D) Got function template directory structure from git {"dirEntryNames": ["function.yaml.template", "function.yaml.values", "natural-lang.py"]}
22.10.19 02:16:39.208 itFunctionTemplateFetcher (D) Got function template directory structure from git {"dirEntryNames": ["function.yaml.template", "function.yaml.values", "string-manipulator.py"]}
22.10.19 02:16:39.208 itFunctionTemplateFetcher (D) Fetched templates from git {"numberOfFunctionTemplates": 7}
22.10.19 02:16:39.209                 dashboard (I) Starting dashboard {"name": "local", "noPull": false, "offline": false, "defaultCredRefreshInterval": "", "defaultNamespace": "@nuclio.selfNamespace", "version": "Label: 1.9.1, Git commit: 5fb902dd1fafabed267f79b3267e19804ee93bda, OS: linux, Arch: amd64, Go version: go1.17.10", "platformConfiguration": {"kind":"local","webAdmin":{"enabled":true,"listenAddress":":8081"},"healthCheck":{"enabled":true,"listenAddress":":8082"},"logger":{"sinks":{"stdout":{"kind":"stdout"}},"system":[{"level":"debug","sink":"stdout"}],"functions":[{"level":"debug","sink":"stdout"}]},"metrics":{},"scaleToZero":{"multiTargetStrategy":"random"},"autoScale":{},"cronTriggerCreationMode":"processor","functionReadinessTimeout":"2m0s","ingressConfig":{},"kube":{"defaultServiceType":"ClusterIP","defaultFunctionPodResources":{"requests":{},"limits":{}}},"local":{"FunctionContainersHealthinessEnabled":false,"FunctionContainersHealthinessTimeout":5000000000,"FunctionContainersHealthinessInterval":30000000000},"imageRegistryOverrides":{},"opa":{"address":"127.0.0.1:8181","clientKind":"nop","requestTimeout":10,"permissionQueryPath":"/v1/data/iguazio/authz/allow","permissionFilterPath":"/v1/data/iguazio/authz/filter_allowed"},"streamMonitoring":{"webapiURL":"http://v3io-webapi:8081","v3ioRequestConcurrency":64},"containerBuilderConfiguration":{"Kind":"docker","BusyBoxImage":"busybox:stable","AWSCLIImage":"amazon/aws-cli:2.7.10","RegistryProviderSecretName":"","KanikoImage":"gcr.io/kaniko-project/executor:v1.8.1","KanikoImagePullPolicy":"IfNotPresent","JobPrefix":"kanikojob","JobDeletionTimeout":1800000000000,"DefaultRegistryCredentialsSecretName":"","DefaultBaseRegistryURL":"","DefaultOnbuildRegistryURL":"quay.io","CacheRepo":"","InsecurePushRegistry":false,"InsecurePullRegistry":false,"PushImagesRetries":3}}, "containerBuilderKind": "docker"}
22.10.19 02:16:39.214   dashboard.docker.runner (D) Executing {"command": "docker version --format \"{{json .}}\""}
22.10.19 02:16:39.565   dashboard.docker.runner (D) Command executed successfully {"output": "{\"Client\":{\"Platform\":{\"Name\":\"Docker Engine - Community\"},\"Version\":\"19.03.14\",\"ApiVersion\":\"1.40\",\"DefaultAPIVersion\":\"1.40\",\"GitCommit\":\"5eb3275\",\"GoVersion\":\"go1.13.15\",\"Os\":\"linux\",\"Arch\":\"amd64\",\"BuildTime\":\"Tue Dec  1 19:14:24 2020\",\"Experimental\":false},\"Server\":{\"Platform\":{\"Name\":\"Docker Desktop 4.8.0 (78933)\"},\"Components\":[{\"Name\":\"Engine\",\"Version\":\"20.10.14\",\"Details\":{\"ApiVersion\":\"1.41\",\"Arch\":\"arm64\",\"BuildTime\":\"Thu Mar 24 01:45:44 2022\",\"Experimental\":\"false\",\"GitCommit\":\"87a90dc\",\"GoVersion\":\"go1.16.15\",\"KernelVersion\":\"5.10.104-linuxkit\",\"MinAPIVersion\":\"1.12\",\"Os\":\"linux\"}},{\"Name\":\"containerd\",\"Version\":\"1.5.11\",\"Details\":{\"GitCommit\":\"3df54a852345ae127d1fa3092b95168e4a88e2f8\"}},{\"Name\":\"runc\",\"Version\":\"1.0.3\",\"Details\":{\"GitCommit\":\"v1.0.3-0-gf46b6ba\"}},{\"Name\":\"docker-init\",\"Version\":\"0.19.0\",\"Details\":{\"GitCommit\":\"de40ad0\"}}],\"Version\":\"20.10.14\",\"ApiVersion\":\"1.41\",\"MinAPIVersion\":\"1.12\",\"GitCommit\":\"87a90dc\",\"GoVersion\":\"go1.16.15\",\"Os\":\"linux\",\"Arch\":\"arm64\",\"KernelVersion\":\"5.10.104-linuxkit\",\"BuildTime\":\"2022-03-24T01:45:44.000000000+00:00\"}}\n", "stderr": "", "exitCode": 0}
22.10.19 02:16:39.567 d.server.api/v3io_streams (D) Installing auth middleware on router {"authenticatorKind": "nop", "resourceName": "api/v3io_streams"}
22.10.19 02:16:39.568 d.server.api/v3io_streams (D) Registered custom route {"routeName": "api/v3io_streams", "stream": false, "pattern": "/get_shard_lags", "method": "POST"}
22.10.19 02:16:39.569          dashboard.server (D) Registered resource {"name": "api/v3io_streams"}
22.10.19 02:16:39.570          dashboard.server (D) Registered resource {"name": "api/versions"}
22.10.19 02:16:39.570 d.server.api/api_gateways (D) Installing auth middleware on router {"authenticatorKind": "nop", "resourceName": "api/api_gateways"}
22.10.19 02:16:39.571 d.server.api/api_gateways (D) Registered custom route {"routeName": "api/api_gateways", "stream": false, "pattern": "/", "method": "PUT"}
22.10.19 02:16:39.571 d.server.api/api_gateways (D) Registered custom route {"routeName": "api/api_gateways", "stream": false, "pattern": "/", "method": "DELETE"}
22.10.19 02:16:39.571          dashboard.server (D) Registered resource {"name": "api/api_gateways"}
22.10.19 02:16:39.571 api/external_ip_addresses (D) Installing auth middleware on router {"authenticatorKind": "nop", "resourceName": "api/external_ip_addresses"}
22.10.19 02:16:39.571          dashboard.server (D) Registered resource {"name": "api/external_ip_addresses"}
22.10.19 02:16:39.571 .api/function_invocations (D) Installing auth middleware on router {"authenticatorKind": "nop", "resourceName": "api/function_invocations"}
22.10.19 02:16:39.572          dashboard.server (D) Registered resource {"name": "api/function_invocations"}
22.10.19 02:16:39.572 ard.server.api/namespaces (D) Installing auth middleware on router {"authenticatorKind": "nop", "resourceName": "api/namespaces"}
22.10.19 02:16:39.572          dashboard.server (D) Registered resource {"name": "api/namespaces"}
22.10.19 02:16:39.572 board.server.api/projects (D) Installing auth middleware on router {"authenticatorKind": "nop", "resourceName": "api/projects"}
22.10.19 02:16:39.572 board.server.api/projects (D) Registered custom route {"routeName": "api/projects", "stream": false, "pattern": "/", "method": "PUT"}
22.10.19 02:16:39.572 board.server.api/projects (D) Registered custom route {"routeName": "api/projects", "stream": false, "pattern": "/", "method": "DELETE"}
22.10.19 02:16:39.573          dashboard.server (D) Registered resource {"name": "api/projects"}
22.10.19 02:16:39.573 .server.api/frontend_spec (D) Installing auth middleware on router {"authenticatorKind": "nop", "resourceName": "api/frontend_spec"}
22.10.19 02:16:39.573 .server.api/frontend_spec (D) Registered custom route {"routeName": "api/frontend_spec", "stream": false, "pattern": "/", "method": "GET"}
22.10.19 02:16:39.573          dashboard.server (D) Registered resource {"name": "api/frontend_spec"}
22.10.19 02:16:39.573 oard.server.api/functions (D) Installing auth middleware on router {"authenticatorKind": "nop", "resourceName": "api/functions"}
22.10.19 02:16:39.573 oard.server.api/functions (D) Registered custom route {"routeName": "api/functions", "stream": false, "pattern": "/", "method": "DELETE"}
22.10.19 02:16:39.573 oard.server.api/functions (D) Registered custom route {"routeName": "api/functions", "stream": false, "pattern": "/{id}/replicas", "method": "GET"}
22.10.19 02:16:39.573 oard.server.api/functions (D) Registered custom route {"routeName": "api/functions", "stream": true, "pattern": "/{id}/logs/{replicaName}", "method": "GET"}
22.10.19 02:16:39.573          dashboard.server (D) Registered resource {"name": "api/functions"}
22.10.19 02:16:39.573 erver.api/function_events (D) Installing auth middleware on router {"authenticatorKind": "nop", "resourceName": "api/function_events"}
22.10.19 02:16:39.573 erver.api/function_events (D) Registered custom route {"routeName": "api/function_events", "stream": false, "pattern": "/", "method": "PUT"}
22.10.19 02:16:39.574 erver.api/function_events (D) Registered custom route {"routeName": "api/function_events", "stream": false, "pattern": "/", "method": "DELETE"}
22.10.19 02:16:39.574          dashboard.server (D) Registered resource {"name": "api/function_events"}
22.10.19 02:16:39.574 er.api/function_templates (D) Installing auth middleware on router {"authenticatorKind": "nop", "resourceName": "api/function_templates"}
22.10.19 02:16:39.574 er.api/function_templates (D) Registered custom route {"routeName": "api/function_templates", "stream": false, "pattern": "/render", "method": "POST"}
22.10.19 02:16:39.574          dashboard.server (D) Registered resource {"name": "api/function_templates"}
22.10.19 02:16:39.574          dashboard.server (W) Failed to login with docker keys {"err": "Failed to read docker key directory"}
22.10.19 02:16:39.574          dashboard.server (I) Initialized {"dockerKeyDir": "/etc/nuclio/dashboard/registry-credentials", "defaultRegistryURL": "", "defaultRunRegistryURL": "", "defaultCredRefreshInterval": "12h0m0s", "defaultNamespace": "nuclio"}
22.10.19 02:16:39.575   dashboard.docker.runner (D) Executing {"command": "docker version --format \"{{json .}}\""}
22.10.19 02:16:39.937   dashboard.docker.runner (D) Command executed successfully {"output": "{\"Client\":{\"Platform\":{\"Name\":\"Docker Engine - Community\"},\"Version\":\"19.03.14\",\"ApiVersion\":\"1.40\",\"DefaultAPIVersion\":\"1.40\",\"GitCommit\":\"5eb3275\",\"GoVersion\":\"go1.13.15\",\"Os\":\"linux\",\"Arch\":\"amd64\",\"BuildTime\":\"Tue Dec  1 19:14:24 2020\",\"Experimental\":false},\"Server\":{\"Platform\":{\"Name\":\"Docker Desktop 4.8.0 (78933)\"},\"Components\":[{\"Name\":\"Engine\",\"Version\":\"20.10.14\",\"Details\":{\"ApiVersion\":\"1.41\",\"Arch\":\"arm64\",\"BuildTime\":\"Thu Mar 24 01:45:44 2022\",\"Experimental\":\"false\",\"GitCommit\":\"87a90dc\",\"GoVersion\":\"go1.16.15\",\"KernelVersion\":\"5.10.104-linuxkit\",\"MinAPIVersion\":\"1.12\",\"Os\":\"linux\"}},{\"Name\":\"containerd\",\"Version\":\"1.5.11\",\"Details\":{\"GitCommit\":\"3df54a852345ae127d1fa3092b95168e4a88e2f8\"}},{\"Name\":\"runc\",\"Version\":\"1.0.3\",\"Details\":{\"GitCommit\":\"v1.0.3-0-gf46b6ba\"}},{\"Name\":\"docker-init\",\"Version\":\"0.19.0\",\"Details\":{\"GitCommit\":\"de40ad0\"}}],\"Version\":\"20.10.14\",\"ApiVersion\":\"1.41\",\"MinAPIVersion\":\"1.12\",\"GitCommit\":\"87a90dc\",\"GoVersion\":\"go1.16.15\",\"Os\":\"linux\",\"Arch\":\"arm64\",\"KernelVersion\":\"5.10.104-linuxkit\",\"BuildTime\":\"2022-03-24T01:45:44.000000000+00:00\"}}\n", "stderr": "", "exitCode": 0}
22.10.19 02:16:39.937          dashboard.server (I) Listening {"listenAddress": ":18070"}
22.10.19 02:16:39.938                 dashboard (D) Monitoring docker connectivity {"interval": "5s", "maxConsecutiveErrors": 5}

```



